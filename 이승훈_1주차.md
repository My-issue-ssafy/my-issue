## 1) 추천 알고리즘 학습 (요약)

* **베이스라인**: 콘텐츠 기반(CB) + 트렌딩 혼합
  `score = α·cosine(user_profile, news.embedding) + β·trending − δ·penalty`
* **프로필 갱신**: 긍정 신호만 가중 평균 `scrap > like > dwell` + 시간감쇄(최근 가중)
* **부정 신호**: 학습엔 미사용, **서빙 시 감점/차단**으로만 반영
* **결정**: `News.embedding` 단일 컬럼 유지, **Near-dedup**로 유사 기사 억제

---

## 2) Android → GA4 → BigQuery 연동 테스트

* 앱에서 **GA4 이벤트 송신** 및 **DebugView 확인 완료**
* GA4↔**BigQuery 링크** 설정, **일일 Export 동작** 확인
* BQ에서 **샘플 카운트/파라미터 조회**로 스키마 정상 확인
  *(타임존 KST, 필드명 고정 필요)*

---

## 3) GA 로깅 설계

### 전제: **리스트의 출처만 기록**

* `feed_source`: 리스트/화면 출처만 남김 (예: `"today"`, `"category/IT"`, `"search"`, `"trending"`, `"bookmark"`, `"recommend"`)

### 이벤트 5개

1. **`news_impression`** — 카드가 **처음 보였을 때** 1회
   params: `news_id`, `feed_source` *(중복 방지: 화면 생명주기 내 dedup)*
2. **`news_click`** — 리스트에서 카드 탭
   params: `news_id`, `feed_source`
3. **`news_view_start`** — 디테일 진입
   params: `news_id`, `from_source` *(리스트의 `feed_source`를 그대로 전달)*
4. **`news_view_end`** — 디테일 이탈
   params: `news_id`, `dwell_ms`, `scroll_pct`
5. **`news_bookmark`** — 스크랩 토글
   params: `news_id`, `action("add"|"remove")`


---

